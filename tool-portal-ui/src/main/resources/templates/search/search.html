<!DOCTYPE html>
<!--
Copyright (C) 2025 twagoo

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html>
    <head th:replace="~{fragments/base :: head}">
        <title>CLARIN Tool Portal</title> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </head>

    <body>
        <div class="container-xl">

            <!-- Page header -->
            <nav th:replace="~{fragments/base :: top-navigation('search')}">
                [Navigation]
            </nav>

            <main hx-swap="outerHTML show:none">

                <!-- Search form -->
                <div class="m-3">
                    <form action="/search" hx-boost="true" hx-target="#search-results-and-facets">
                        <div class="d-flex">
                            <div class="ms-auto w-50 p-2">
                                <input type="search" class="form-control"
                                       name="q" th:value="${query}" />
                            </div>
                            <div class="p-2">
                                <input type="submit" class="btn btn-primary"
                                       value="Search" />
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Search results and facets -->
                <div class="row" id="search-results-and-facets">
                    
                    <!-- Facets -->
                    <section id="facets" class="col-lg-3">
                        <h2 class="h3">Result filters</h2>
                        <div th:unless="${facets}">
                            No facet information
                        </div>
                        <div th:if="${facets}" th:replace="~{search/facets :: facets(${facets})}">
                            [Facets]
                        </div>
                    </section>

                    <!-- Search results -->
                    <section id="search-results" class="col-lg-9">
                        <div th:unless="${result}">
                            No search results
                        </div>
                        <div th:if="${result}" th:replace="~{search/searchResults :: search-results(${result})}">
                            [Search results]
                        </div>
                    </section>
                    
                </div>
            </main>
        </div>
    </body>
</html>

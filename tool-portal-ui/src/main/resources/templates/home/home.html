<!DOCTYPE html>
<!--
Copyright (C) 2025 twagoo

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html>
    <head th:replace="~{fragments/base :: head}">
        <title>CLARIN Tool Portal</title> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </head>

    <body>
        <div class="container-xl">

            <!-- Page header -->
            <nav th:replace="~{fragments/base :: top-navigation('home')}">
                [Navigation]
            </nav>

            <main hx-swap="outerHTML show:none">

                <h1 class="m-3 text-center">CLARIN Tool Portal</h1>

                <div class="mt-3 p-2">
                    <form id="searchForm" th:action="@{/search}">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <div class="p-2">
                                        <input type="search" class="form-control form-control-lg" name="q" th:placeholder="#{search.form.placeholder}" th:value="${query}" />
                                    </div>
                                    <div class="p-2 text-center">
                                        <input type="submit" class="btn btn-primary btn-lg"
                                               th:value="#{search.form.buttonText}" />
                                        <a th:href="@{/search}" class="btn btn-secondary btn-lg"
                                           th:text="#{search.form.showAllButtonText}" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="border-top mt-3 p-3">

                    <h1 class="h3">Highlighted tools</h1>

                    <div class="row">
                        <div th:each="recordId : ${highlightedIds}" class="col-md-4 mt-1 placeholder-glow">
                            <div hx-trigger="revealed delay:.2s" hx-swap="outerHTML" th:hx-get="@{/home/highlighted/{id}(id=${recordId})}">
                                <div th:replace="~{home/highlighted :: placeholder(${recordId})}">[highlighted record placeholder]</div>
                            </div>
                        </div>
                    </div>

                    <div class="text-md-end mt-2">
                        <a th:href="@{/search}" class="btn btn-outline-primary">Show more tools</a>
                    </div>
                </div>

                <div class="border-top mt-3 pt-3 px-5">
                    <div class="px-5 row" hx-trigger="revealed delay:.2s" hx-swap="innerHTML" th:hx-get="@{/home/facets}">
                        <th:block th:each="facet : ${facets}" >
                            <div th:replace="~{home/facets :: placeholder(${facet})}">[facet values placeholder]</div>
                        </th:block>
                    </div>
                </div>


            </main>

            <footer th:replace="~{fragments/base :: footer}"></footer>

        </div>
    </body>
</html>
